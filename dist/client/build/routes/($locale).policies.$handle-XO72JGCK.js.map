{
  "version": 3,
  "sources": ["../../../../app/routes/($locale).policies.$handle.jsx"],
  "sourcesContent": ["import {json} from '@shopify/remix-oxygen';\nimport {Link, useLoaderData} from '@remix-run/react';\n\nexport const meta = ({data}) => {\n  return [{title: `Hydrogen | ${data.policy.title}`}];\n};\n\nexport async function loader({params, context}) {\n  if (!params.handle) {\n    throw new Response('No handle was passed in', {status: 404});\n  }\n\n  const policyName = params.handle.replace(/-([a-z])/g, (_, m1) =>\n    m1.toUpperCase(),\n  );\n\n  const data = await context.storefront.query(POLICY_CONTENT_QUERY, {\n    variables: {\n      privacyPolicy: false,\n      shippingPolicy: false,\n      termsOfService: false,\n      refundPolicy: false,\n      [policyName]: true,\n      language: context.storefront.i18n?.language,\n    },\n  });\n\n  const policy = data.shop?.[policyName];\n\n  if (!policy) {\n    throw new Response('Could not find the policy', {status: 404});\n  }\n\n  return json({policy});\n}\n\nexport default function Policy() {\n  const {policy} = useLoaderData();\n\n  return (\n    <div className=\"policy\">\n      <br />\n      <br />\n      <div>\n        <Link to=\"/policies\">\u2190 Back to Policies</Link>\n      </div>\n      <br />\n      <h1>{policy.title}</h1>\n      <div dangerouslySetInnerHTML={{__html: policy.body}} />\n    </div>\n  );\n}\n\n// NOTE: https://shopify.dev/docs/api/storefront/latest/objects/Shop\nconst POLICY_CONTENT_QUERY = `#graphql\n  fragment Policy on ShopPolicy {\n    body\n    handle\n    id\n    title\n    url\n  }\n  query Policy(\n    $country: CountryCode\n    $language: LanguageCode\n    $privacyPolicy: Boolean!\n    $refundPolicy: Boolean!\n    $shippingPolicy: Boolean!\n    $termsOfService: Boolean!\n  ) @inContext(language: $language, country: $country) {\n    shop {\n      privacyPolicy @include(if: $privacyPolicy) {\n        ...Policy\n      }\n      shippingPolicy @include(if: $shippingPolicy) {\n        ...Policy\n      }\n      termsOfService @include(if: $termsOfService) {\n        ...Policy\n      }\n      refundPolicy @include(if: $refundPolicy) {\n        ...Policy\n      }\n    }\n  }\n`;\n"],
  "mappings": ";;;;;;;;;;AAyCM;AAtCC,IAAM,OAAO,CAAC,EAAC,KAAI,MAAM;AAC9B,SAAO,CAAC,EAAC,OAAO,cAAc,KAAK,OAAO,QAAO,CAAC;AACpD;AA+Be,SAAR,SAA0B;AAC/B,QAAM,EAAC,OAAM,IAAI,cAAc;AAE/B,SACE,mDAAC,SAAI,WAAU,UACb;AAAA,uDAAC,UAAD;AAAA;AAAA;AAAA;AAAA,WAAI;AAAA,IACJ,mDAAC,UAAD;AAAA;AAAA;AAAA;AAAA,WAAI;AAAA,IACJ,mDAAC,SACC,6DAAC,QAAK,IAAG,aAAY,uCAArB;AAAA;AAAA;AAAA;AAAA,WAAuC,KADzC;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,IACA,mDAAC,UAAD;AAAA;AAAA;AAAA;AAAA,WAAI;AAAA,IACJ,mDAAC,QAAI,iBAAO,SAAZ;AAAA;AAAA;AAAA;AAAA,WAAkB;AAAA,IAClB,mDAAC,SAAI,yBAAyB,EAAC,QAAQ,OAAO,KAAI,KAAlD;AAAA;AAAA;AAAA;AAAA,WAAqD;AAAA,OARvD;AAAA;AAAA;AAAA;AAAA,SASA;AAEJ;",
  "names": []
}
